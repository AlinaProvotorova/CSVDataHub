# CSVDataHub

CSVDataHub - это веб-приложение, созданное с использованием FastAPI, которое позволяет пользователям загружать, управлять и анализировать CSV-файлы. Приложение обеспечивает возможность загрузки CSV-файлов на сервер, фильтрации и сортировки данных внутри файлов, а также предоставляет интерфейс для просмотра и управления загруженными файлами.

 ## Установка
1. Для установки и запуска приложения необходимо выполнить следующие шаги:
```bash
git clone https://github.com/AlinaProvotorova/CSVDataHub.git
cd CSVDataHub
```

2. Создать и активировать виртуальное окружение (опционально):
```bash
python -m venv venv
source venv/bin/activate
```

3. Задать конфигурационные параметры в файле .env. Пример файла .env:
```commandline
DATABASE_URL=sqlite+aiosqlite:///./fastapi.db
SUPERUSER_EMAIL=admin@ru.com
SUPERUSER_PASSWORD=qaz123
```

4. Запустить приложение:
```bash
docker compose up
```

После запуска перейдите по [ссылке](http://localhost:8000/docs)

## API:

1. #### Авторизация и регистрация

`POST /auth/jwt/login`: Авторизация пользователя и выдача JWT-токена.

Параметры запроса:
- `username`(строка): Электронная почта пользователя.
- `password`(строка): Пароль пользователя.

`POST /auth/jwt/register`: Регистрация нового пользователя.

Параметры запроса:
- `email`(строка): Электронная почта пользователя.
- `password`(строка): Пароль пользователя.

2. #### Управление пользователями (только для администраторов)

`GET /users`: Получение списка всех пользователей (только для администраторов).

`POST /users`: Создание нового пользователя (только для администраторов).

Параметры запроса:
- `email`(строка): Электронная почта пользователя.
- `password` (строка): Пароль пользователя.
- `is_active` (булево): Активен ли пользователь (true/false).
- `is_superuser` (булево): Является ли пользователь суперпользователем (true/false).

`GET /users/{id}`: Получение информации о пользователе по его ID (только для администраторов).

`PUT /users/{id}`: Обновление информации о пользователе по его ID (только для администраторов).

Параметры запроса (необязательные):
- `email` (строка): Новая электронная почта пользователя.
- `password` (строка): Новый пароль пользователя.
- `is_active` (булево): Обновление активности пользователя (true/false).
- `is_superuser` (булево): Обновление статуса суперпользователя (true/false).

`DELETE /users/{id}`: Удаление пользователя по его ID (только для администраторов).

3. #### Управление файлами

`GET /file/files`: Получение списка всех файлов (только для администраторов).

`GET /file/my/files`: Получение списка файлов, загруженных текущим пользователем.

`GET /file/data/{file_name}/`: Получение данных из конкретного файла с опциональной фильтрацией и сортировкой.

Параметры запроса (необязательные):
- `filters` (строка, JSON): Фильтры для данных в формате JSON.
- `sort_by` (строка): Имя столбца для сортировки данных.

`POST /file/upload/`: Загрузка нового файла на сервер.

Параметры запроса:
- `file` (файл): Файл в формате CSV для загрузки.

`DELETE /file/delete/{file_id}/`: Удаление файла по его ID.

Примечание: Для доступа к большей документации и интерактивному интерфейсу API, вы можете воспользоваться Swagger UI, который доступен по адресу http://localhost:8000/docs после запуска приложения.

## Техно-стек:

- Python
- FastAPI
- SQLAlchemy
- Pydantic
- Alembic
- Asyncio

Автор: [Провоторова Алина Игоревна](https://t.me/alinamalina998)